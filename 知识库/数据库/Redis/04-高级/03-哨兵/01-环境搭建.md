# 环境搭建

见 https://gitee.com/zhengqingya/docker-compose

## redis-sentinel-xx.conf

主要配置

```
# 配置可参考 http://download.redis.io/redis-stable/sentinel.conf
# 配置说明 https://redis.io/topics/sentinel
port 26379
dir /tmp
sentinel monitor mymaster redis-master 6380 2
sentinel down-after-milliseconds mymaster 30000
sentinel parallel-syncs mymaster 1
sentinel auth-pass mymaster 123456
sentinel failover-timeout mymaster 180000
sentinel deny-scripts-reconfig yes
```

| 机器             | 说明               |
|----------------|------------------|
| 127.0.0.1:6380 | redis-master     |
| 127.0.0.1:6381 | redis-slave1     |
| 127.0.0.1:6382 | redis-slave2     |
| 127.0.0.1:26379 | redis-sentinel-1 |
| 127.0.0.1:26380 | redis-sentinel-2 |
| 127.0.0.1:26381 | redis-sentinel-3 |
