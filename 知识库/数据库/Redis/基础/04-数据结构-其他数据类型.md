# Redis - 其他数据类型

## BitMap：位图，本质是string

使用场景：用户在线状态、统计活跃用户、用户周活跃、用户签到

```shell
# 设置zq第1天 在线->1
setbit zq 0 1
# 设置zq第9天 不在线->0
setbit zq 10 0
# 返回设置值0
getbit zq 10
# 查看zq总在线天数
bitcount zq
```

## HyperLogLog：基数统计，超小内存唯一值计数，本质是string

使用场景：计算日活、7日活、月活数据

```shell
# 添加任意元素，有变化返回1，无变化返回0
pfadd ip_zq1 "192.168.0.1" "192.168.0.2" "192.168.0.3"
pfadd ip_zq2 "192.168.0.1" "192.168.0.2" "192.168.0.5"
# 查看元素个数
pfcount ip_zq1
# 查看元素总的不重复个数
pfcount ip_zq1 ip_zq2
# 合并ip_zq1和ip_zq2到ip_zq3中
pfmerge ip_zq3 ip_zq1 ip_zq2
```

## GEO：地理信息定位，使用有序集合实现

使用场景：求最近的附近人

```shell
# 添加地理位置的坐标
geoadd Sicily 13.361389 38.115556 "Palermo" 15.087269 37.502669 "Catania"
# 获取地理位置的坐标
geopos Sicily Palermo Catania NonExisting
# 计算两个位置之间的距离
geodist Sicily Palermo Catania
# 根据用户给定的经纬度坐标来获取指定范围内的地理位置集合
georadius Sicily 15 37 200 km
# 根据储存在位置集合里面的某个地点获取指定范围内的地理位置集合
georadiusbymember Sicily Palermo 100 km
# 返回一个或多个位置对象的 geohash 值
geohash Sicily Palermo Catania
```
