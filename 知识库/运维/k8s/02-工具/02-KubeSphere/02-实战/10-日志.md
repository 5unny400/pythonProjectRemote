# 日志

> 可参考 https://v3-2.docs.kubesphere.io/zh/docs/project-administration/disk-log-collection

### 1、启用日志插件

`平台管理` -> `集群管理` -> `CRD` -> `clusterconfiguration` -> `ks-installer` -> `编辑YAML`

```yaml
events:
  enabled: true
logging:
  enabled: true
```

### 2、开启日志收集

![img.png](images/kubesphere-log-01.png)

### 3、容器配置

![img.png](images/kubesphere-log-02.png)

命令

```shell
/bin/sh
```

参数

```shell
-c,if [ ! -d /data/log ];then mkdir -p /data/log;fi; while true; do date >> /data/log/app-test.log; sleep 30;done
```

以上命令及参数意味着每 30 秒将日期信息导出到 `/data/log` 的 `app-test.log` 中。

-> `存储设置` -> 启用`收集存储卷上的日志` -> `挂载存储卷` -> `临时存储卷` -> `springboot-demo-disk-log-collection`

![img.png](images/kubesphere-log-03.png)

### 4.工具箱 -> 容器日志查询

![img.png](images/kubesphere-log-04.png)

